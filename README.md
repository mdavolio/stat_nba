# STAT 6021 Final Project
## Analysis of Invividual Player Success in the NBA

Focusing on statistics at the individual player level, various linear modeling techniques were applied to try to predict the players whom the media voted for several year end honors. Of the several year end honors, we chose to focus on the All-NBA Team (all three teams), the Most Valuable Player Award (MVP), the Defensive Player of the Year (DPOY), and the 6th-Man of the Year Award. It is believed that due to the nature of voting associated with these honors, we will be able to find the most marketable players which is valuable to front offices and team's mareketing departments within the NBA.

#### Data:
The data was scraped from various pages on the site basketball-reference (http://www.basketball-reference.com/). The Scraping was done using Python's beautifulSoup package and stored as CSV files. The data began with the 1988-89 season as this was the first year of three All-NBA teams and continued through the 2015-16 season. The creation of the models was based on data between the 1988-89 and 2014-15 seasons and tested on the 2015-16 season. For predictors, box scores for individals were collected (both basic and advanced statistics), along with the player's draft information. The results for the voting for the four honors of interest were also scraped.

#### All-NBA Results
After cleaning and structuring the data, the resulting table contained observations for each player, for every year in the data set. The response variable was which All-NBA team the player was selected to in that year: 1, 2, 3, or if they were not selected to a team, 4. Due to disproportionate classes (96% in class 4), downsampling and upsampling approaches were both tested with upsampling performing better with cross validation on the training data. An LDA and Multinomial Model were both tested with a mutlinomial approach having a stronger overall accuracy, but the LDA model seeming to perform better at predicting players who aren't in class 4.

![matrix](https://github.com/mdavolio/stat_nba/blob/master/confusion_matrix.PNG)

As seen in the confusion matrix above, when predicting the 2015-16 season, the LDA model correctly predicted 4/5 players on the 1st and 2nd team and 3/5 on the third team. Constraints such as position limits were not applied to the model which led to many of the missed predictions.

#### MVP
The response variable for MVP voting was defined as the share of the most votes possible each player received. This is calculated by divide the total number of points a player received in voting by the total number of voters multiplied by the value of a first place vote. Six types of models were studied: OLS model, GLM model, ridge regression, lasso regression, and feature selection with backward and stepwise selection. A standard OLS model with all possible predictors was the most accurate model with a training MSE of 0.05345, altough the R-Squared was 0.2996. The model correctly predicted four of the top 5 vote getters, however they were out of order. A second attempt was made with a biased dataset containing only players who received votes as there was a large proportion of players who received 0% share, creating an extremely skewed dataset. With this new dataset, the model correctly predicted Stephen Curry would win the MVP in the 2015-16 season and on average was off by 1.6 places.

#### DPOY
Similar analysis methods as those performed on the MVP results were used for the defensive player of the year. It is a well discussed point of analysis that it is difficult to quantify a player's definsive value. Metrics such as Defensive Plus/Minus and Definsive Win Shares attempt to quantify such value. Yet as with many other professional sports, defensive value is usually measured with the 'eye-test' and as such the DPOY analysis performed the worst of those we studied. The best model was a generalized linear model which had a training MSE of 0.06058 and an R-Squared of 0.1128. Predictions were done for the 2015-16 season using both models created on the complete dataset and a biased one on those only receiving votes. Kawhi Leonard, the actual winner, was predicted to finish 3rd, while the model predicted the actual third place player, Hassan Whiteside, to win the award.

#### 6th-Man of the Year
In order to analyze the 6th-Man award, the data needed to be subsetted to include only those eligable for the award (players who started less than half of the games they appeared in). The most accurate model was again a generalized linear model with a training MSE of 0.05026 and an R-Squared of 0.2123. The model poorly predicted the actual winner for the 2015-16 season, Jamal Crawford, who was predicted by the model to finish 8th. However, was quite strong in predicting 2nd place and on to a much better accuracy than the DPOY results.

#### Future Work
There are many more honors that could be analyzed based on similar methods such as the All-Rookie Teams, the All-Defensive Teams, the Rookie of the Year Awards, the Comeback Player of the Year Award, and All-Star Game appearances. Also in order to improve the current model, additional statistics would like to be tested including stats at the per-36 minute or per-possession level or off court values such as salaries or twitter followers. Finally, some constraints on the All-NBA team selection may be included to better represent real world rules.
